<!DOCTYPE html>

<html>
<head>
  <title>main.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>main.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <p>This script is written using JavaScript and jQuery, it handles the multilingual user interface, for which it uses the Cookie JS library.               
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-comment">/*
  Javascript functionalities

  Copyright 2016 European Union
  Author: Jens Scheerlinck (PwC EU Services)

  Licensed under the EUPL, Version 1.1 or - as soon they
  will be approved by the European Commission - subsequent
  versions of the EUPL (the "Licence");
  You may not use this work except in compliance with the
  Licence.
  You may obtain a copy of the Licence at:
  http://ec.europa.eu/idabc/eupl

  Unless required by applicable law or agreed to in
  writing, software distributed under the Licence is
  distributed on an "AS IS" basis,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either
  express or implied.
  See the Licence for the specific language governing
  permissions and limitations under the Licence.
*/</span></pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>Set multilingual content for labels</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> labels = [
  [<span class="hljs-string">'lang'</span>, <span class="hljs-string">'Interface language'</span>, <span class="hljs-string">'Lingua dell\'interfaccia'</span>, <span class="hljs-string">'γλώσσα διεπαφής'</span>],
  [<span class="hljs-string">'index-acts'</span>, <span class="hljs-string">'List of acts per theme'</span>, <span class="hljs-string">'Elenco degli atti per tema'</span>, <span class="hljs-string">'Κατάλογος των πράξεων ανά θέμα'</span>],
  [<span class="hljs-string">'index-links'</span>, <span class="hljs-string">'Other links'</span>, <span class="hljs-string">'Altri link'</span>, <span class="hljs-string">'Άλλοι σύνδεσμοι'</span>],
  [<span class="hljs-string">'display-timeline'</span>, <span class="hljs-string">'Changes over time'</span>, <span class="hljs-string">'I cambiamenti nel corso del tempo'</span>, <span class="hljs-string">'Αλλαγές με την πάροδο του χρόνου'</span>],
  [<span class="hljs-string">'display-title'</span>, <span class="hljs-string">'Title'</span>, <span class="hljs-string">'Titolo'</span>, <span class="hljs-string">'τίτλος'</span>],
  [<span class="hljs-string">'display-type'</span>, <span class="hljs-string">'Type of Document'</span>, <span class="hljs-string">'Tipo di documento'</span>, <span class="hljs-string">'Είδος Εγγράφου'</span>],
  [<span class="hljs-string">'display-date'</span>, <span class="hljs-string">'Document Date'</span>, <span class="hljs-string">'Data del documento'</span>, <span class="hljs-string">'Ημερομηνία του εγγράφου'</span>],
  [<span class="hljs-string">'display-publisher'</span>, <span class="hljs-string">'Publisher'</span>, <span class="hljs-string">'Editore'</span>, <span class="hljs-string">'Εκδότης'</span>],
  [<span class="hljs-string">'display-structure'</span>, <span class="hljs-string">'Document structure'</span>, <span class="hljs-string">'Struttura del documento'</span>, <span class="hljs-string">'δομή του εγγράφου'</span>],
  [<span class="hljs-string">'display-contents'</span>, <span class="hljs-string">'Contents'</span>, <span class="hljs-string">'Contenuto'</span>, <span class="hljs-string">'Περιεχόμενα'</span>],
  [<span class="hljs-string">'display-ispartof'</span>, <span class="hljs-string">'Is part of'</span>, <span class="hljs-string">'È parte di'</span>, <span class="hljs-string">'Είναι μέρος του'</span>]
]

jQuery(<span class="hljs-built_in">document</span>).ready(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$</span>)</span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>Set default language to English and get current language</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">var</span> lang;
  <span class="hljs-keyword">var</span> lang_cookie = Cookies.get(<span class="hljs-string">'lang'</span>);
  <span class="hljs-keyword">if</span>(!lang_cookie){
    Cookies.set(<span class="hljs-string">'lang'</span>, <span class="hljs-string">'en'</span>);
    lang = <span class="hljs-number">1</span>;
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">if</span>(lang_cookie == <span class="hljs-string">'en'</span>){ lang = <span class="hljs-number">1</span>; $(<span class="hljs-string">"#lang_en"</span>).addClass(<span class="hljs-string">"lng-active"</span>); }
    <span class="hljs-keyword">if</span>(lang_cookie == <span class="hljs-string">'it'</span>){ lang = <span class="hljs-number">2</span>; $(<span class="hljs-string">"#lang_it"</span>).addClass(<span class="hljs-string">"lng-active"</span>); }
    <span class="hljs-keyword">if</span>(lang_cookie == <span class="hljs-string">'gr'</span>){ lang = <span class="hljs-number">3</span>; $(<span class="hljs-string">"#lang_gr"</span>).addClass(<span class="hljs-string">"lng-active"</span>); }
  }</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>Language toggle</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  $(<span class="hljs-string">".lng"</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    Cookies.remove(<span class="hljs-string">'lang'</span>);
    lang_id = $(<span class="hljs-keyword">this</span>).attr(<span class="hljs-string">"id"</span>);
    <span class="hljs-keyword">if</span>(lang_id == <span class="hljs-string">"lang_en"</span>){
      Cookies.set(<span class="hljs-string">'lang'</span>, <span class="hljs-string">'en'</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(lang_id == <span class="hljs-string">"lang_it"</span>) {
      Cookies.set(<span class="hljs-string">'lang'</span>, <span class="hljs-string">'it'</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(lang_id == <span class="hljs-string">"lang_gr"</span>) {
      Cookies.set(<span class="hljs-string">'lang'</span>, <span class="hljs-string">'gr'</span>);
    }
    location.reload();
  });</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>Populate label fields</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  $.each(labels, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> index, label </span>)</span>{
    $(<span class="hljs-string">"#"</span>+label[<span class="hljs-number">0</span>]).text(label[lang]);
  });
  <span class="hljs-comment">/*Accordion for document structure*/</span>
  $(<span class="hljs-string">"#accordion"</span>).treemenu({delay:<span class="hljs-number">500</span>}).openActive();
  $(<span class="hljs-string">"#links"</span>).treemenu({delay:<span class="hljs-number">500</span>}).openActive();
});</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
